# 測試 PostgreSQL 設置

<br>

## 代碼

1. 完整程式碼。

    ```python
    import psycopg2
    from psycopg2 import sql

    # 環境變量設置
    PGVECTOR_DRIVER = 'psycopg2'
    PGVECTOR_USER = 'sam6238'
    PGVECTOR_PASSWORD = 'sam112233'
    PGVECTOR_HOST = 'localhost'
    PGVECTOR_PORT = '5432'
    PGVECTOR_DATABASE = 'mydatabase'

    # 連接到 PostgreSQL 數據庫
    conn = psycopg2.connect(
        dbname=PGVECTOR_DATABASE,
        user=PGVECTOR_USER,
        password=PGVECTOR_PASSWORD,
        host=PGVECTOR_HOST,
        port=PGVECTOR_PORT
    )

    # 創建一個新表並插入數據
    try:
        with conn.cursor() as cursor:
            # 創建測試表
            cursor.execute("""
            CREATE TABLE IF NOT EXISTS test_table (
                id SERIAL PRIMARY KEY,
                name VARCHAR(100) NOT NULL
            )
            """)
            print("Table created successfully.")

            # 插入測試數據
            cursor.execute("""
            INSERT INTO test_table (name) VALUES 
            ('Test Name 1'),
            ('Test Name 2')
            """)
            print("Data inserted successfully.")

            # 查詢數據
            cursor.execute("SELECT * FROM test_table")
            rows = cursor.fetchall()
            for row in rows:
                print(row)

        # 提交事務
        conn.commit()
    finally:
        # 關閉連接
        conn.close()
    ```

<br>

2. 輸出。

    ```bash
    Table created successfully.
    Data inserted successfully.
    (1, 'Test Name 1')
    (2, 'Test Name 2')
    ```

<br>

___

_END_