# 紀錄

## 準備工作

1. 建立虛擬環境。

```bash
cd ~/Documents/PythonVenv && python -m venv envShioaji
```

<br>

2. 安裝 uv。

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

<br>

3. 驗證版本。

```bash
uv --version
```

<br>

4. 建立專案資料。

```bash
cd ~/Desktop
uv init sj-trading --package --app --vcs git
cd sj-trading
code .
```

<br>

5. 建立文件。

```bash
touch -p .uv && cd .uv && touch config.json
```

<br>

6. 編輯。

```json
{
    "python": "/Users/samhsiao/Documents/PythonVenv/envShioaji/bin/python"
}
```

<br>

7. 在專案根目錄。

```bash
uv add shioaji
```

<br>

8. 編輯 `src/sj_trading/__init__.py`。

```python
import shioaji as sj

def main() -> None:
    print("Hello from sj-trading!")

def hello():
    get_shioaji_client()

def get_shioaji_client() -> sj.Shioaji:
    api = sj.Shioaji()
    print("Shioaji API created")
    return api
```

<br>

9. 修正 `pyproject.toml`。

```toml
[project]
name = "sj-trading"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
authors = [
    { name = "samhsiao6238", email = "samhsiao6238@gmail.com" }
]
requires-python = ">=3.10"
dependencies = [
    "shioaji>=1.2.5",
]

[project.scripts]
hello = "sj_trading:hello"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"
```

![](images/img_03.png)

<br>

10. 手動刪除 `.venv`。

<br>

## 安裝套件

1. 更新。

```bash
pip install --upgrade pip
```

<br>

2. 套件。

```bash
pip install shioaji python-dotenv
```

<br>

## 證卷

1. 新增 API Key。

![](images/img_01.png)

<br>

2. 確定。

![](images/img_02.png)

<br>
