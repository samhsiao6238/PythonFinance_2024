# F1 分數`（F1 Score）`

<br>

## 定義

1. F1 分數是一種用於衡量分類模型性能的指標，尤其適用於不平衡數據集，它綜合了精確率（Precision）和召回率（Recall），通過它們的調和平均來衡量模型的整體性能。

<br>

2. F1 分數的公式如下。

    ![](images/img_30.png)

<br>

## 使用調和平均

1. `調和平均（Harmonic Mean）` 相比於 `算術平均` 更適合於反映兩個指標之間的平衡性，當數據集中包含 `極端值` 時，調和平均會偏向於較小的數值。

<br>

2. 當精確率和召回率不平衡時，F1 分數也會偏低，這反映了模型在這兩個指標上的不平衡性能。這種敏感性使得調和平均特別適合於像 F1 分數這樣需要同時考慮兩個指標且不希望忽略其中任意一個的場景。

<br>

## 調和平均的數學推導

1. 調和平均的公式如下。

    ![](images/img_58.png)

<br>

2. 在 F1 分數的情況下。

    ![](images/img_61.png)

<br>

3. 因此調和平均公式如下。

    ![](images/img_59.png)

<br>

4. 以上算式可進一步推導如下，這便是 `F1 分數` 的公式。

    ![](images/img_60.png)

<br>

___

_END_

## 應用

_F1 分數尤其適合於下列場景_

1. 不平衡數據集：當數據集中正類和負類的數量不平衡時，F1 分數能夠更好地反映模型性能。

2. 需要同時考慮精確率和召回率：例如，在醫學診斷中，既希望有高的精確率（減少誤報）又希望有高的召回率（減少漏報），此時 F1 分數是一個很好的指標。

