# 向量儲存

<br>

## 說明

1. 在前面範例中所進行 `比對` 是基於資料庫進行的 `相似度比對`，通常稱為 `內容檢索（Content-Based Retrieval）`，基於 `CBR` 所建立的系統就稱為 `內容檢索系統（Content-Based Retrieval System）`。

<br>

2. 在前面範例中所使用的方法和技術可以稱為 `基於內容的圖像檢索`，也就是 `CBIR`，而 `CBIR` 也可歸類於更廣泛的 `基於內容的視覺信息檢索（CBVIR）`，而 `CBVIR` 就是一種 `向量搜索`，透過這樣的說明，進一步理解這些術語在圖像處理、計算機視覺和信息檢索領域中的意義。 

<br>

## CBR 的種類

1. Content-Based Image Retrieval (CBIR)：

   - `CBIR` 是一種基於內容的 `圖像檢索` 方法，利用圖像的顏色、形狀、紋理等特徵來進行檢索，而非基於圖像的元數據（如標籤、描述等）。

   - 在範例中的系統使用了深度學習模型 `VGG16` 來提取圖像的高級特徵（即嵌入向量），然後根據這些特徵在資料庫中進行相似度比對。

<br>

2. Content-Based Visual Information Retrieval (CBVIR)：

   - `CBVIR` 與 `CBIR` 類似但範圍更廣，除了圖像還可以包括 `影片` 等視覺數據的檢索。

<br>

3. Vector Search：

   - `Vector search` 是指使用向量化的數據（如圖像嵌入向量）進行檢索和相似度比對的技術，廣泛應用於各種需要相似度比較的場合，如圖像、文本、音頻等。

   - 在範例中的系統將圖像轉換為向量，並儲存在 MongoDB 中，然後通過計算查詢向量與資料庫中向量的 `餘弦相似度` 來檢索相似圖像。

<br>

4. Similarity Search：

   - `相似度搜索` 是用於在大數據集中找到與查詢對象最相似的對象，這類技術可以用於各種數據類型，包括圖像、文本、音頻等。

   - 前面的範例是一種相似度搜索系統，通過比較圖像的嵌入向量來找到最相似的圖像。

<br>

## 範例與一般辨識的差異

1. 之前範例的腳本與一般的圖片識別的主要區別在於其目的是進行 `圖片相似度搜索`，而不是進行 `人臉的識別`。

<br>

2. 範例使用 `VGG16` 模型作為 `特徵提取器`，只取出其 `fc1` 層的輸出，這些輸出被視為圖片的 `嵌入向量（embedding）`，這個嵌入向量捕捉了圖片的高維特徵，適合用於 `相似度計算和檢索`；而在一般的圖片識別任務中，`VGG16` 模型會使用完整的網絡結構，也就是使用了從輸入層到最終的 softmax 層來預測圖片中的物體或人臉類別，並生成一個表示各類別機率分佈的向量。

<br>

3. `嵌入向量` 代表了圖片的特徵，這些特徵被儲存在 `MongoDB` 中，這與一般的圖片識別任務不同，因為一般圖片識別任務不會將中間特徵向量儲存在資料庫中，而是直接進行分類或識別；換句話說，這樣的操作預先計算並儲存圖片的嵌入向量，當需要在大量圖片中進行相似度比對時，檢索過程只需比較嵌入向量的相似度，而不需要逐一處理原始圖片。

<br>

4. 一般的圖片識別系統會直接輸出圖片類別，而這個範例則是透過查詢圖片與資料庫中已儲存的圖片嵌入向量之間的 `餘弦相似度` 來搜尋相似圖片，`餘弦相似度` 用於衡量圖片之間的相似度，並按相似度進行排序，以找到最相似的圖片。

<br>

___

_END_
