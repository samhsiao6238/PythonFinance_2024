# requests 的 stream

<br>

## 語句

1. request 的參數 stream=True。

   ```python
   requests.get(url, stream=True)
   ```

<br>

## 說明

1. HTTP GET 請求。

   requests.get()，用於從指定的 URL 檢索數據。

<br>

2. stream=Truez。

   當設置為 `True` 時，指示 `requests` 不要立即下載響應內容。這意味著服務器的響應將逐步發送，並且可按需讀取或處理數據，而不是一次性將所有內容加載到記憶體中。這對於處理大型文件或實時數據流特別有用，因為它允許更高效的記憶體使用。

<br>

3. 處理響應。

   使用 `stream=True` 可逐行或逐塊處理響應，這可通過迭代響應對象來實現，例如 `response.iter_lines()` 是一種常見的方法，用於逐行讀取響應內容。

<br>

4. 性能考慮。

   在處理大型數據或長時間運行的連接時，使用流式請求可以大大節省記憶體，因為數據不會全部存儲在記憶體中。此外，對於實時數據，流式請求允許您立即開始處理數據，而不是等待所有數據下載完成。

<br>

5. 關閉連接。

   使用流式請求時，重要的是要確保在完成處理後關閉響應連接。在 Python 中，通常通過使用 `with` 語句來管理這一過程，確保即使在發生錯誤的情況下也能正確關閉連接。

<br>

---

_END
